# SPDX-FileCopyrightText: 2022 Contributors to the Power Grid Model project <dynamic.grid.calculation@alliander.com>
#
# SPDX-License-Identifier: MPL-2.0
---
grid:
  Nodes:
    node:
      id: Number
      u_rated: Unom
      meta: ID
  Cables:
    line:
      id: Number
      from_node: From.Number
      from_status: From.Switch state
      to_node: To.Number
      to_status: To.Switch state
      r1: R
      x1: X
      c1: C
      tan1: Tan delta
      r0: R0
      x0: X0
      c0: C0
      tan0: Tan delta                      # Checken!
      i_n: Inom'
      meta:
        - Name
        - ID
  Links:
    link:
      id: Number
      from_node: From.Number
      from_status: From.Switch state
      to_node: To.Number
      to_status: To.Switch state
  Reactance coils:
    line:
      id: Number
      from_node: From.Number
      from_status: From.Switch state
      to_node: To.Number
      to_status: To.Switch state
      r1: R
      x1: X
      c1: C
      tan1: Tan delta
      r0: R0
      x0: X0
      c0: 0                         # Niet gevonden
      tan0: Tan delta
      i_n: Inom
      meta:
        - Name
        - ID                      # Niet gevonden
  Transformers:
    transformer:
      id: Number
      from_node: From.Number
      from_status: From.Switch state
      to_node: To.Number
      to_status: To.Switch state
      u1: Unom1
      u2: Unom2
      sn: Snom
      uk: uk
      pk: Pk

      i0:
        power_grid_model.conversion.filters.relative_no_load_current:
          - Io
          - Po
          - Snom
          - Unom2
      p0: Po
      winding_from:
        power_grid_model.conversion.filters.get_winding_from:
          - Connect1, s1                       #excel van types of gaia types
          - N1                                 #checken
      winding_to:
        power_grid_model.conversion.filters.get_winding_to:
          - Connect2, s2                      #excel van types of gaia types
          - N2                                #checken
      clock:
        power_grid_model.conversion.filters.get_clock:
          - Clock
      tap_side: Tap side
      tap_pos: Tap
      tap_min: Tap min
      tap_max: Tap max
      tap_nom: Tap nom
      tap_size: Tap size
      uk_min: uk
      uk_max: uk
      pk_min: Pk
      pk_max: Pk
      r_grounding_from: Re1      # kan alleen Re vinden
      x_grounding_from: Xe1      # niet gevonden
      r_grounding_to: Re2        # kan alleen Re vinden
      x_grounding_to: Xe2        # niet gevonden
      meta:
        - Name
        - ID
  Special transformers:
    transformer:
      id: Number                       # niet gevonden
      from_node: From.Number           # niet gevonden
      from_status: From.Switch state   # niet gevonden
      to_node: To.Number               # niet gevonden
      to_status: To.Switch state       # niet gevonden
      u1: Unom1
      u2: Unom2
      sn: Snom
      uk: uknom
      pk: Pknom
      i0:
        power_grid_model.conversion.filters.relative_no_load_current:
          - Io
          - Po
          - Snom
          - Unom2
      p0: Po
      winding_from:       # niet gevonden
      winding_to: 0       # niet gevonden
      clock: 0            # niet gevonden
      tap_side: Tap side
      tap_pos: Tap       # niet gevonden
      tap_min: Tap min
      tap_max: Tap max
      tap_nom: Tap nom
      tap_size: Tap size
      uk_min: ukmin
      uk_max: ukmax
      pk_min: Pkmin
      pk_max: Pkmax
      r_grounding_from: 0    # niet gevonden
      x_grounding_from: 0    # niet gevonden
      r_grounding_to: 0      # niet gevonden
      x_grounding_to: 0      # niet gevonden
      meta:
        - Name
        - ID                 # niet gevonden
  Transformer loads:         # niet gevonden
    transformer:
      id:
        - Node.Number
        - Subnumber
      from_node: Node.Number
      to_node:
        - Node.Number
        - Subnumber
      from_status: Switch state
      to_status: 1
      u1: Unom1
      u2: Unom2
      sn: Snom
      uk: uk
      pk: Pk
      p0: Po
      i0:
        power_grid_model.conversion.filters.relative_no_load_current:
          - 0
          - Po
          - Snom
          - Unom2
      winding_from:
        power_grid_model.conversion.filters.get_winding_from: Connection
      winding_to:
        power_grid_model.conversion.filters.get_winding_to: Connection
      clock:
        power_grid_model.conversion.filters.get_clock: Connection
      tap_side: Tap side
      tap_pos: Tap
      tap_min: Tap min
      tap_max: Tap max
      tap_nom: Tap nom
      tap_size: Tap size
      uk_min: uk
      uk_max: uk
      pk_min: Pk
      pk_max: Pk
      r_grounding_from: 0
      x_grounding_from: 0
      r_grounding_to: 0
      x_grounding_to: 0
      meta:
        - Name
        - ID
    node:
      id:
        - Node.Number
        - Subnumber
      u_rated: Unom2
      meta: ID
    sym_load:
      id:
        - Node.Number
        - Subnumber
      node:
        - Node.Number
        - Subnumber
      status: Switch state
      type: Behaviour
      p_specified:
        power_grid_model.conversion.filters.multiply:
          - Load.P
          - 'Nodes!Simultaneity[Number=Node.Number]'
      q_specified:
        power_grid_model.conversion.filters.multiply:
          - Load.Q
          - 'Nodes!Simultaneity[Number=Node.Number]'
      meta:
        - Name
        - ID
    sym_gen:
      - id:
          - Node.Number
          - Subnumber
        node:
          - Node.Number
          - Subnumber
        status: Switch state
        type: 0
        p_specified: Generation.P
        q_specified: Generation.Q
        meta: Name
      - id:
          - Node.Number
          - Subnumber
        node:
          - Node.Number
          - Subnumber
        status: Switch state
        type: 0
        p_specified: PV.Pnom
        q_specified:
          power_grid_model.conversion.filters.reactive_power_calculation:
            - PV.Pnom
            - 1
            - 1
        meta: Name
  Sources:
    source:
      id:
        - Node.Number
        - Subnumber
      node: Node.Number
      status: Switch state
      u_ref: Uref         # niet gevonden
      sk: Sk"nom
      rx_ratio: R/X       # niet gevonden
      z01_ratio: Z0/Z1    # niet gevonden
  Synchronous generators:
    sym_gen:
      id:
        - Node.Number         # niet gevonden
        - Subnumber           # niet gevonden
      node: Node.Number       # niet gevonden
      status: Switch state    # niet gevonden
      type: 0                 # niet gevonden
      p_specified: Pref       # niet gevonden
      q_specified:
        power_grid_model.conversion.filters.reactive_power_calculation:
          - Pref             # niet gevonden
          - cos phi          # cosnom?
          - Q                # qmin of qmax?
      meta: Name
  Wind turbines:          # komt niet voor in Gaia?
    sym_gen:
      id:
        - Node.Number
        - Subnumber
      node: Node.Number
      status: Switch state
      type: 1
      p_specified:
        power_grid_model.conversion.filters.power_wind_speed:
          - Pref
          - Pnom
          - Wind speed
      q_specified:
        power_grid_model.conversion.filters.reactive_power_calculation:
          - power_grid_model.conversion.filters.power_wind_speed:
              - Pref
              - Pnom
              - Wind speed
          - cos phi
          - 1
      meta: Name
  Loads:          # Alleen load type gevonden in type bestand
    sym_load:
      id:
        - Node.Number      # niet gevonden
        - Subnumber        # niet gevonden
      node: Node.Number    # niet gevonden
      status: Switch state # niet gevonden
      type: Behaviour      # niet gevonden
      p_specified:
        power_grid_model.conversion.filters.multiply:
          - P             # niet gevonden
          - 'Nodes!Simultaneity[Number=Node.Number]'   # niet gevonden
      q_specified:
        power_grid_model.conversion.filters.multiply:
          - Q    # niet gevonden
          - 'Nodes!Simultaneity[Number=Node.Number]'   # niet gevonden
      meta:
        - Name
        - ID     # niet gevonden
  Zigzag transformers:
    shunt:                   # niet gevonden
      id:                    # niet gevonden
        - Node.Number        # niet gevonden
        - Subnumber          # niet gevonden
      node: Node.Number      # niet gevonden
      status: Switch state   # niet gevonden
      g1: 0                  # niet gevonden
      b1: 0                  # niet gevonden
      g0:                    # niet gevonden
        power_grid_model.conversion.filters.complex_inverse_real_part:
          - R0
          - X0
      b0:
        power_grid_model.conversion.filters.complex_inverse_imaginary_part:
          - R0
          - X0
      meta:
        - Name
        - ID              # niet gevonden
  Pvs:                    # niet gevonden
    sym_gen:
      id:
        - Node.Number
        - Subnumber
      node: Node.Number
      status: Switch state
      type: 0
      p_specified:
        min:
          - Pnom
          - Inverter.Pnom | Inverter.Snom
      q_specified:
        power_grid_model.conversion.filters.reactive_power_calculation:
          - min:
              - Pnom
              - Inverter.Pnom | Inverter.Snom
          - Inverter.cos phi
          - 1
      meta: Name
enums:
  Switch state:
    'off': 'off'    #checken
    in: 'in'        #checken
  N1:
    none: false    #niet gevonden
    own: true      #niet gevonden
  N2:
    none: false    #niet gevonden
    own: true      #niet gevonden
  Behaviour:       #niet gevonden
    Constant admittance: 1
    Constant impedance: 1
    ~Constant current: 2
    Constant power: 0
    Default: 0
    Industry: 0
    Business: 0
    Residential: 0
    Living: 0
  Tap side:
    '1': 1
    '2': 2
  Q:             # Q-regeling? 0,1,2 gaia manual
    absorb: -1
    supply: 1
units:
  pu: 1
  Ohm: 1
  A: 1
  ÂµF: 0.000001
  kV: 1000
  kA: 1000
  kW: 1000
  MVA: 1000000
  Mvar: 1000000
  MW: 1000000
  MWp: 1000000
  '%': 0.01